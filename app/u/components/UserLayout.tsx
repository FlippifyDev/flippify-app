// components/UserLayout.tsx
import React, { Suspense } from 'react';
import Navbar from './Navbar';
import Loading from '../../components/Loading';

const UserLayout = ({ children }: { children: React.ReactNode }) => {
  const svg = `<svg id="visual" viewBox="0 0 900 600" width="900" height="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><rect x="0" y="0" width="900" height="600" fill="#001220"></rect><path d="M0 404L13.7 391.8C27.3 379.7 54.7 355.3 82 349.7C109.3 344 136.7 357 163.8 367C191 377 218 384 245.2 386.7C272.3 389.3 299.7 387.7 327 379.3C354.3 371 381.7 356 409 356.2C436.3 356.3 463.7 371.7 491 374.2C518.3 376.7 545.7 366.3 573 354.5C600.3 342.7 627.7 329.3 654.8 322.5C682 315.7 709 315.3 736.2 318.5C763.3 321.7 790.7 328.3 818 327.3C845.3 326.3 872.7 317.7 886.3 313.3L900 309L900 601L886.3 601C872.7 601 845.3 601 818 601C790.7 601 763.3 601 736.2 601C709 601 682 601 654.8 601C627.7 601 600.3 601 573 601C545.7 601 518.3 601 491 601C463.7 601 436.3 601 409 601C381.7 601 354.3 601 327 601C299.7 601 272.3 601 245.2 601C218 601 191 601 163.8 601C136.7 601 109.3 601 82 601C54.7 601 27.3 601 13.7 601L0 601Z" fill="#fa7268"></path><path d="M0 368L13.7 377.8C27.3 387.7 54.7 407.3 82 410C109.3 412.7 136.7 398.3 163.8 386C191 373.7 218 363.3 245.2 368.3C272.3 373.3 299.7 393.7 327 401.3C354.3 409 381.7 404 409 410C436.3 416 463.7 433 491 429.2C518.3 425.3 545.7 400.7 573 392C600.3 383.3 627.7 390.7 654.8 388.5C682 386.3 709 374.7 736.2 374.7C763.3 374.7 790.7 386.3 818 399.2C845.3 412 872.7 426 886.3 433L900 440L900 601L886.3 601C872.7 601 845.3 601 818 601C790.7 601 763.3 601 736.2 601C709 601 682 601 654.8 601C627.7 601 600.3 601 573 601C545.7 601 518.3 601 491 601C463.7 601 436.3 601 409 601C381.7 601 354.3 601 327 601C299.7 601 272.3 601 245.2 601C218 601 191 601 163.8 601C136.7 601 109.3 601 82 601C54.7 601 27.3 601 13.7 601L0 601Z" fill="#ef5f67"></path><path d="M0 470L13.7 460.2C27.3 450.3 54.7 430.7 82 432.5C109.3 434.3 136.7 457.7 163.8 463.3C191 469 218 457 245.2 458.2C272.3 459.3 299.7 473.7 327 478.2C354.3 482.7 381.7 477.3 409 467.3C436.3 457.3 463.7 442.7 491 441.3C518.3 440 545.7 452 573 462.3C600.3 472.7 627.7 481.3 654.8 472.3C682 463.3 709 436.7 736.2 431.7C763.3 426.7 790.7 443.3 818 453.8C845.3 464.3 872.7 468.7 886.3 470.8L900 473L900 601L886.3 601C872.7 601 845.3 601 818 601C790.7 601 763.3 601 736.2 601C709 601 682 601 654.8 601C627.7 601 600.3 601 573 601C545.7 601 518.3 601 491 601C463.7 601 436.3 601 409 601C381.7 601 354.3 601 327 601C299.7 601 272.3 601 245.2 601C218 601 191 601 163.8 601C136.7 601 109.3 601 82 601C54.7 601 27.3 601 13.7 601L0 601Z" fill="#e34c67"></path><path d="M0 497L13.7 502.5C27.3 508 54.7 519 82 523.5C109.3 528 136.7 526 163.8 521.3C191 516.7 218 509.3 245.2 508.3C272.3 507.3 299.7 512.7 327 506.5C354.3 500.3 381.7 482.7 409 483.8C436.3 485 463.7 505 491 507.8C518.3 510.7 545.7 496.3 573 493.2C600.3 490 627.7 498 654.8 496.8C682 495.7 709 485.3 736.2 481.8C763.3 478.3 790.7 481.7 818 482.5C845.3 483.3 872.7 481.7 886.3 480.8L900 480L900 601L886.3 601C872.7 601 845.3 601 818 601C790.7 601 763.3 601 736.2 601C709 601 682 601 654.8 601C627.7 601 600.3 601 573 601C545.7 601 518.3 601 491 601C463.7 601 436.3 601 409 601C381.7 601 354.3 601 327 601C299.7 601 272.3 601 245.2 601C218 601 191 601 163.8 601C136.7 601 109.3 601 82 601C54.7 601 27.3 601 13.7 601L0 601Z" fill="#d53867"></path><path d="M0 514L13.7 519C27.3 524 54.7 534 82 538.2C109.3 542.3 136.7 540.7 163.8 535.7C191 530.7 218 522.3 245.2 525.8C272.3 529.3 299.7 544.7 327 551.2C354.3 557.7 381.7 555.3 409 555.2C436.3 555 463.7 557 491 554.7C518.3 552.3 545.7 545.7 573 544.5C600.3 543.3 627.7 547.7 654.8 549.7C682 551.7 709 551.3 736.2 547.3C763.3 543.3 790.7 535.7 818 531.7C845.3 527.7 872.7 527.3 886.3 527.2L900 527L900 601L886.3 601C872.7 601 845.3 601 818 601C790.7 601 763.3 601 736.2 601C709 601 682 601 654.8 601C627.7 601 600.3 601 573 601C545.7 601 518.3 601 491 601C463.7 601 436.3 601 409 601C381.7 601 354.3 601 327 601C299.7 601 272.3 601 245.2 601C218 601 191 601 163.8 601C136.7 601 109.3 601 82 601C54.7 601 27.3 601 13.7 601L0 601Z" fill="#c62368"></path></svg>`;
  const base64SVG = `data:image/svg+xml;base64,${Buffer.from(svg).toString('base64')}`;

  return (
    <Suspense fallback={<Loading />}>
      <div
        className="min-h-screen bg-cover bg-center bg-fixed overflow-x-hidden"
        style={{ backgroundImage: `url('${base64SVG}')` }}
      >
        <div className="flex flex-col min-h-screen">
          <div className="fixed top-0 left-0 right-0">
            <Navbar />
          </div>
          <div className="mt-16 flex justify-center">
            {children}
          </div>
        </div>
      </div>
    </Suspense>
  );
};

export default UserLayout;